<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Project Vacation</title>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyAmNAHfcjAGdprRngmuG1Cru5AsvXLfSGk",
        authDomain: "project-vacation-e8d22.firebaseapp.com",
        projectId: "project-vacation-e8d22",
      };

      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();
    </script>
  </head>
  <body>
    <h1>Project Vacation Test</h1>

    <input id="name" placeholder="Your name" />
    <input id="period" placeholder="E.g., Oct 20 - Jan 30" />
    <select id="status">
      <option value="yes">✅ Yes</option>
      <option value="maybe">❓ Maybe</option>
      <option value="no">❌ No</option>
    </select>
    <button onclick="save()">Save</button>

    <ul id="list"></ul>

    <script>
      // --- Save function ---
      function save() {
        const name = document.getElementById("name").value;
        const period = document.getElementById("period").value;
        const status = document.getElementById("status").value;

        db.collection("availability")
          .add({ name, period, status })
          .then(() => {
            alert("Saved!");
            document.getElementById("name").value = "";
            document.getElementById("period").value = "";
          });
      }

      // --- Fetch and display ---
      db.collection("availability").onSnapshot((snapshot) => {
        const list = document.getElementById("list");
        list.innerHTML = "";
        snapshot.forEach((doc) => {
          const data = doc.data();
          list.innerHTML += `<li>${data.name}: ${data.period} → ${data.status}</li>`;
        });
      });
    </script>
  </body>
</html>
x
